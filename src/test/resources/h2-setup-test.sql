DROP table if exists order_controllers;
DROP table if exists controller;
DROP table if exists customer_order;
DROP table if exists shipping_details;
DROP table if exists payment_details;
DROP table if exists user;
create table user( user_id int primary key generated by default as identity(start with 1), email varchar(100) not null unique, firstname varchar(50) not null, lastname varchar(50) not null, password varchar(150) not null, role varchar(50) not null);
create table payment_details( payment_id int primary key generated by default as identity(start with 1), user_id int not null, cardnumber varchar(16) not null, nameoncard varchar(100) not null, cvv varchar(3) not null, expirydate varchar(10) not null, foreign key (user_id) references user (user_id));
create table shipping_details( shipping_id int primary key generated by default as identity(start with 1), user_id int, deliver_to varchar(100) not null, street varchar(100) not null, street2 varchar(100) not null, city varchar(100) not null, country varchar(100) not null, county varchar(100) not null, zip varchar(100) not null, foreign key (user_id) references user (user_id));
create table customer_order( order_id int primary key generated by default as identity(start with 1), user_id int not null, status varchar(15), shipping_id int not null, payment_id int not null, date_ordered date not null, foreign key (shipping_id) references shipping_details (shipping_id), foreign key (user_id) references user (user_id), foreign key (payment_id) references payment_details (payment_id));
create table controller( controller_id int primary key not null generated by default as identity(start with 1), controller_type varchar(100) not null, pattern varchar(100), color varchar(100) not null, img_url varchar(200) not null, price double not null);
create table order_controllers( order_id int not null, controller_id int not null, foreign key (order_id) references customer_order (order_id), foreign key (controller_id) references controller (controller_id));
 insert into user(email, firstName, lastName, password, role) values ('sean.cunniffe@gmail.com','Sean','Cunniffe', '$2a$12$wZBbkcqBN1q5BdAaB/9k5OLCk3S19deOqSDVQp.HQJW31ZL8kr0qG', 'STAFF');
insert into user(email, firstName, lastName, password, role) values ('john.doe@gmail.com','John','Doe', '$2a$12$wZBbkcqBN1q5BdAaB/9k5OLCk3S19deOqSDVQp.HQJW31ZL8kr0qG', 'CUSTOMER');
insert into shipping_details(user_id, deliver_to, street,street2, city, country, county, zip)values (2, 'John Doe', 'Thornfort', 'Killimor', 'Ballinasloe', 'Galway','Ireland', 'ABCD123');
insert into payment_details (user_id, cardNumber, nameOnCard, cvv, expiryDate)values (2, '1234567891234567', 'John Doe', '123','01/2023');
insert into customer_order (user_id, status, shipping_id, payment_id, date_ordered)values (2, 'SHIPPING',1,1,DATE '2022-02-15');
insert into controller (controller_type, pattern, color, img_url, price)values ('PlayStation4', 'Impact front', 'Purple', 'images/ps4/scuf-custom-impact-front-energon.webp', 55.99), ('PlayStation4', 'White flower', 'Purple', 'images/ps4/flower-white.png', 39.99), ('PlayStation4', 'Star Storm', 'Multicolor', 'images/ps4/star-storm.png', 39.99), ('PlayStation4', 'Dragon Skin', 'Red', 'images/ps4/dragon-skin-red.png', 65.99), ('PlayStation4', 'Dragon Skin', 'Blue', 'images/ps4/dragon-skin-blue.png', 65.99), ('PlayStation4', 'Adrenaline', 'Red', 'images/ps4/Adrenaline.png', 44.99), ('PlayStation4', 'CyberStorm', 'Pink', 'images/ps4/CyberStorm-pink.png', 44.99), ('PlayStation4', 'Energon', 'Blue', 'images/ps4/Energon.png', 44.99), ('PlayStation4', 'BlindSide', 'Black', 'images/ps4/blindside.png', 49.99), ('XboxOne', 'Energon', 'Blue', 'images/xbox/Energon.png', 40.99), ('XboxOne', 'Nebula', 'Pink', 'images/xbox/Nebula.png', 54.99), ('XboxOne', 'Prosperity', 'Red', 'images/xbox/Prosperity.png', 56.99), ('XboxOne', 'StarStorm', 'Orange', 'images/xbox/StarStorm.png', 40.99), ('XboxOne', 'Trance', 'Purple', 'images/xbox/Trance.png', 47.99), ('XboxOne', 'Mystic', 'Multicolor', 'images/xbox/Mystic.png', 44.99), ('XboxOne', 'Warhaul', 'Blue', 'images/xbox/Warhaul.png', 55.99), ('XboxOne', 'Conjure', 'Blue', 'images/xbox/Conjure.png', 51.99), ('XboxOne', 'Cherry Blossom', 'White', 'images/xbox/CherryBlossom.png', 51.99), ('XboxOne', 'Celestrial', 'White', 'images/xbox/Celestrial.png', 64.99), ('XboxOne', 'Magma', 'Orange', 'images/xbox/Magma.png', 44.99), ('Switch', 'Green Apple', 'Green', 'images/switch/green.webp', 78.99), ('Switch', 'Carbon', 'Grey', 'images/switch/carbon.webp', 78.99), ('Switch', 'Black', 'Black', 'images/switch/Black.webp', 68.99), ('Switch', 'Blue Flame', 'Blue', 'images/switch/Blue-Flame.webp', 54.99), ('Switch', 'Game Boy Edition', 'Grey', 'images/switch/Blue-Flame.webp', 64.99), ('PlayStation5', 'Camo', 'Green', 'images/controller1.jpg', 99.99), ('PlayStation5', 'Black Void', 'Black', 'images/ps5/black.webp', 149.99), ('PlayStation5', 'White Blinding', 'White', 'images/ps5/black.webp', 174.99), ('PlayStation5', 'Scuf Reflex Pro', 'Grey', 'images/ps5/reflex.webp', 174.99), ('PlayStation5', 'Danger Orange', 'Orange', 'images/ps5/orange.webp', 174.99), ('PlayStation5', 'Blood Red', 'Red', 'images/ps5/red.webp', 174.99), ('PlayStation5', 'Pit Blue', 'Blue', 'images/ps5/blue.webp', 174.99);
insert into order_controllers (order_id, controller_id)values (1, 1), (1, 2)
